"use strict";(self.webpackChunkbright_blog=self.webpackChunkbright_blog||[]).push([[550],{21233:function(t,e){e.A=[{month:4,date:1},{month:3,date:4},{month:4,date:12},{month:8,date:18},{month:11,date:13}]},90169:function(t,e,n){n.r(e),n.d(e,{default:function(){return o}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"info-detail content-back-color",class:"info-detail-".concat(t.$isMobile)},[e("div",{staticClass:"info-detail-content"},[e("div",{staticClass:"info-title"},[t._v("\n      "+t._s(t.details.articleTitle)+"\n    ")]),t._v(" "),e("div",{staticClass:"info-views"},[t._l(t.detailList,(function(n,i){return["text"===n.type?e("p",{key:"text-".concat(i),staticClass:"content-text"},[t._v("\n          "+t._s(n.content)+"\n        ")]):t._e(),t._v(" "),"hr"===n.type?e("div",{staticClass:"text-hr"}):"code"===n.type?e("pre",{directives:[{name:"highlight",rawName:"v-highlight"}],key:"code-".concat(i),staticClass:"code-block"},[t._v("          "),e("code",[t._v(t._s(n.content))]),t._v("\n          "),e("div",{directives:[{name:"clipboard",rawName:"v-clipboard:copy",value:n.content,expression:"item.content",arg:"copy"},{name:"clipboard",rawName:"v-clipboard:success",value:t.handleCopySuccess,expression:"handleCopySuccess",arg:"success"},{name:"clipboard",rawName:"v-clipboard:error",value:t.handleCopyError,expression:"handleCopyError",arg:"error"}],staticClass:"copy-code"},[t._v("复制")]),t._v("\n        ")]):"src"===n.type&&n.content.length?e("figure",{key:"img-".concat(i),staticClass:"image-group m-t-10"},t._l(n.content,(function(t,n){return e("img",{key:"img-".concat(i,"-").concat(n),staticClass:"m-b-5",attrs:{src:t,alt:"/"}})})),0):t._e()]}))],2)])])};i._withStripped=!0;var r=n(19878),s=n(21233),a={data:function(){return{details:{articleTitle:"",articleTxt:"",detailList:[]},memorialDays:s.A}},methods:{handleCopySuccess:function(t){this.$Message.success("复制成功")},handleCopyError:function(t){this.$Message.error("复制失败,刷新后重试")},initHighlight:function(){var t=this;new MutationObserver((function(){t.$nextTick((function(){return r.A.highlightAll()}))})).observe(this.$el,{childList:!0,subtree:!0})},themeChange:function(){var t=window.localStorage.getItem("themes"),e=document.body;Array.from(e.classList).some((function(t){return t.startsWith("theme-")}))&&Array.from(e.classList).filter((function(t){return t.startsWith("theme-")})).forEach((function(t){return e.classList.remove(t)})),e.classList.add("theme-".concat(t))},parseContent:function(t){var e=t.split(/(_br__hr_|_br_)/i),n=[],i="";return e.forEach((function(t){t.match(/_br__hr_/i)?(i&&n.push(i),n.push("_HR_FLAG_"),i=""):"_br_"===t?(i&&n.push(i),i=""):i+=t})),i&&n.push(i),n.flatMap((function(t){if("_HR_FLAG_"===t)return[{type:"hr",content:!0}];var e=t.match(/<pre><code>([\s\S]*?)<\/code><\/pre>/i);if(e)return[{type:"code",content:e[1].trim()}];for(var n,i=[],r=/<img[^>]+src="([^"]*)"/gi;null!==(n=r.exec(t));)i.push(n[1]);if(i.length>0)return[{type:"src",content:i}];var s=t.replace(/<\/?[^>]+>/g,"").trim();return s?[{type:"text",content:s}]:[]}))},isMemorialDay:function(){var t=new Date;return this.memorialDays.some((function(e){return t.getMonth()===e.month&&t.getDate()===e.date}))}},mounted:function(){(document.documentElement||document.body).scrollIntoView({behavior:"smooth",block:"start"}),this.details=JSON.parse(this.$route.query.item);var t=this.parseContent(this.details.articleTxt);this.detailList=t,this.initHighlight(),this.isMemorialDay()?(this.showTheme=!1,document.body.style.filter="grayscale(100%)"):this.themeChange()},beforeDestroy:function(){}},o=(0,n(93734).A)(a,i,[],!1,null,"539bfc6a",null).exports}}]);