"use strict";(self.webpackChunkbright_blog=self.webpackChunkbright_blog||[]).push([[626],{40626:function(t,e,a){a.r(e),a.d(e,{default:function(){return u}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"demo flex"},[e("div",{staticClass:"p-t-20"},[e("div",{staticClass:"flex m-b-10"},[e("Select",{staticClass:"m-r-10",staticStyle:{width:"185px"},on:{"on-change":t.selectChangeFun},model:{value:t.monthValue,callback:function(e){t.monthValue=e},expression:"monthValue"}},t._l(t.monthList,(function(a){return e("Option",{key:a.value,attrs:{value:a.value}},[t._v(t._s(a.name))])})),1),t._v(" "),e("Button",{attrs:{type:"default"},on:{click:t.getDayData}},[t._v("获取2025-06-01这天所在的周数据")])],1),t._v(" "),e("div",{staticClass:"flex"},[e("Button",{staticClass:"m-r-10",attrs:{type:"default"},on:{click:t.getDays}},[t._v("获取生成的日历数据")]),t._v(" "),e("Button",{staticClass:"m-r-10",attrs:{type:"default"},on:{click:t.getWeeks}},[t._v("获取所有周数据")]),t._v(" "),e("Button",{attrs:{type:"default"},on:{click:t.getWeekNow}},[t._v("获取当前周数据")])],1),t._v(" "),e("div",{staticClass:"calendar-component"},[e("div",{staticClass:"calendar-component-week"},t._l(t.weekDay,(function(a,n){return e("div",{staticClass:"calendar-component-week-content"},[t._v("\n          "+t._s(a)+"\n        ")])})),0),t._v(" "),e("div",{staticClass:"calendar-component-days"},t._l(t.days,(function(a,n){return e("div",{key:n,staticClass:"calendar-component-content",class:[a.isMonth?"":"calendar-component-disabled"],on:{click:function(e){return t.checkedFun(a)}}},[e("div",{staticClass:"calendar-component-day"},[t._v("\n            "+t._s(a.day)+"\n          ")]),t._v(" "),e("img",{directives:[{name:"show",rawName:"v-show",value:a.checked,expression:"item.checked"}],staticClass:"calendar-checked",attrs:{src:t.icon_url,alt:"/"}})])})),0)])]),t._v(" "),e("div",{staticClass:"json-data"},[e("JsonViewer",{attrs:{value:t.showData,"expand-depth":3}})],1)])};n._withStripped=!0;var s=a(85715),o=a.n(s),r=a(74353),i=a.n(r),c={components:{},data:function(){return{weekDay:["一","二","三","四","五","六","日"],weeks:[],days:[],icon_url:a(67987),monthValue:"2025-05-01",monthList:[],showData:{code:200,data:null}}},methods:{generateMonthlyWeeks:function(t){for(var e,a,n,s=t.split("-").map(Number),r=o()(s,2),i=r[0],c=r[1],u=new Date(i,c-1,1),l=new Date(i,c,0),d=(e=new Date(u),a=e.getDay(),n=e.getDate()-a+(0===a?-6:1),new Date(e.setDate(n))),h=function(t){var e=t.getDay(),a=t.getDate()+(7-e)%7;return new Date(t.setDate(a))}(new Date(l)),f=[],g=new Date(d);g<=h;)f.push(new Date(g)),g.setDate(g.getDate()+1);var v=f.length%7;if(0!==v)for(var k=0;k<7-v;k++)f.push(new Date(g)),g.setDate(g.getDate()+1);var D=function(t){return[t.getFullYear(),(t.getMonth()+1).toString().padStart(2,"0"),t.getDate().toString().padStart(2,"0")].join("-")},w=function(t){return[t.getFullYear(),(t.getMonth()+1).toString().padStart(2,"0"),t.getDate().toString().padStart(2,"0")].join("")},m=new Date;m.setHours(0,0,0,0);var p=Array.from({length:f.length/7},(function(t,e){var a=f.slice(7*e,7*(e+1)),n=[a[0],a[6]],s=n[0],o=n[1];return{name:"第".concat(e+1,"周(").concat(w(s),"-").concat(w(o),")"),week:"第".concat(e+1,"周"),weekStart:D(s),weekEnd:D(o),value:a.map((function(t){return w(t)})).join(","),value2:a.map((function(t){return D(t)})).join(","),weekFlag:a.some((function(t){return t.getFullYear()===m.getFullYear()&&t.getMonth()===m.getMonth()&&t.getDate()===m.getDate()}))?"1":"0",day:a.map((function(t){return t.getDate().toString().padStart(2,"0")})).join(",")}})),y=f.map((function(t,e){return{index:e,day:t.getDate().toString().padStart(2,"0"),value:w(t),value2:D(t),isMonth:t.getFullYear()===i&&t.getMonth()+1===c,checked:!1}}));return{weeks:p,days:y}},findCurrentWeeks:function(t){return t.filter((function(t){return"1"===t.weekFlag}))},findWeekByDate:function(t,e){var a=new Date(e).setHours(0,0,0,0);return t.find((function(t){return t.value2.split(",").some((function(t){var e=t.split("-"),n=o()(e,3),s=n[0],r=n[1],i=n[2];return new Date(s,r-1,i).setHours(0,0,0,0)===a}))}))},selectChangeFun:function(){this.showData={code:200,data:null},this.candalerFun()},getMonths:function(){var t=(new Date).getFullYear();this.monthList=Array.from({length:12},(function(e,a){var n=a+1;return{name:"".concat(t,"-").concat(n,"月"),value:"".concat(t,"-").concat(String(n).padStart(2,"0"),"-01")}}))},candalerFun:function(){var t=this.generateMonthlyWeeks(this.monthValue);this.weeks=t.weeks,this.days=t.days},getWeeks:function(){this.showData.data=this.weeks},getDays:function(){this.showData.data=this.days},checkedFun:function(t){t.isMonth&&(t.checked=!t.checked)},getWeekNow:function(){var t=i()().format("YYYY-MM-DD"),e=this.generateMonthlyWeeks(t);this.showData.data=this.findCurrentWeeks(e.weeks)},getDayData:function(){this.monthValue="2025-06-01";var t=this.generateMonthlyWeeks(this.monthValue);this.showData.data=this.findWeekByDate(t.weeks,this.monthValue)}},mounted:function(){this.getMonths(),this.candalerFun()}},u=(0,a(93734).A)(c,n,[],!1,null,"65c85f19",null).exports},67987:function(t,e,a){t.exports=a.p+"assets/icon_calendar.635eb8ac.png"}}]);