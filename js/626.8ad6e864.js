(self.webpackChunkbright_blog=self.webpackChunkbright_blog||[]).push([[626],{17122:function(t,e,n){var a=n(70079);t.exports=function(t,e){if(t){if("string"==typeof t)return a(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},40626:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return c}});var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"demo flex"},[e("div",{staticClass:"p-t-20"},[e("div",{staticClass:"flex m-b-10"},[e("Select",{staticClass:"m-r-10",staticStyle:{width:"185px"},on:{"on-change":t.selectChangeFun},model:{value:t.monthValue,callback:function(e){t.monthValue=e},expression:"monthValue"}},t._l(t.monthList,(function(n){return e("Option",{key:n.value,attrs:{value:n.value}},[t._v(t._s(n.name))])})),1),t._v(" "),e("Button",{attrs:{type:"default"},on:{click:t.getDayData}},[t._v("获取2025-06-01这天所在的周数据")])],1),t._v(" "),e("div",{staticClass:"flex"},[e("Button",{staticClass:"m-r-10",attrs:{type:"default"},on:{click:t.getDays}},[t._v("获取生成的日历数据")]),t._v(" "),e("Button",{staticClass:"m-r-10",attrs:{type:"default"},on:{click:t.getWeeks}},[t._v("获取所有周数据")]),t._v(" "),e("Button",{attrs:{type:"default"},on:{click:t.getWeekNow}},[t._v("获取当前周数据")])],1),t._v(" "),e("div",{staticClass:"calendar-component"},[e("div",{staticClass:"calendar-component-week"},t._l(t.weekDay,(function(n,a){return e("div",{staticClass:"calendar-component-week-content"},[t._v("\n          "+t._s(n)+"\n        ")])})),0),t._v(" "),e("div",{staticClass:"calendar-component-days"},t._l(t.days,(function(n,a){return e("div",{key:a,staticClass:"calendar-component-content",class:[n.isMonth?"":"calendar-component-disabled"],on:{click:function(e){return t.checkedFun(n)}}},[e("div",{staticClass:"calendar-component-day"},[t._v("\n            "+t._s(n.day)+"\n          ")]),t._v(" "),e("img",{directives:[{name:"show",rawName:"v-show",value:n.checked,expression:"item.checked"}],staticClass:"calendar-checked",attrs:{src:t.icon_url,alt:"/"}})])})),0)])]),t._v(" "),e("div",{staticClass:"json-data"},[e("JsonViewer",{attrs:{value:t.showData,"expand-depth":3}})],1)])};a._withStripped=!0;var r=n(85715),o=n.n(r),s=n(74353),i=n.n(s),u={components:{},data:function(){return{weekDay:["一","二","三","四","五","六","日"],weeks:[],days:[],icon_url:n(67987),monthValue:"2025-05-01",monthList:[],showData:{code:200,data:null}}},methods:{generateMonthlyWeeks:function(t){for(var e,n,a,r=t.split("-").map(Number),s=o()(r,2),i=s[0],u=s[1],c=new Date(i,u-1,1),l=new Date(i,u,0),d=(e=new Date(c),n=e.getDay(),a=e.getDate()-n+(0===n?-6:1),new Date(e.setDate(a))),f=function(t){var e=t.getDay(),n=t.getDate()+(7-e)%7;return new Date(t.setDate(n))}(new Date(l)),h=[],p=new Date(d);p<=f;)h.push(new Date(p)),p.setDate(p.getDate()+1);var v=h.length%7;if(0!==v)for(var g=0;g<7-v;g++)h.push(new Date(p)),p.setDate(p.getDate()+1);var m=function(t){return[t.getFullYear(),(t.getMonth()+1).toString().padStart(2,"0"),t.getDate().toString().padStart(2,"0")].join("-")},y=function(t){return[t.getFullYear(),(t.getMonth()+1).toString().padStart(2,"0"),t.getDate().toString().padStart(2,"0")].join("")},w=new Date;w.setHours(0,0,0,0);var k=Array.from({length:h.length/7},(function(t,e){var n=h.slice(7*e,7*(e+1)),a=[n[0],n[6]],r=a[0],o=a[1];return{name:"第".concat(e+1,"周(").concat(y(r),"-").concat(y(o),")"),week:"第".concat(e+1,"周"),weekStart:m(r),weekEnd:m(o),value:n.map((function(t){return y(t)})).join(","),value2:n.map((function(t){return m(t)})).join(","),weekFlag:n.some((function(t){return t.getFullYear()===w.getFullYear()&&t.getMonth()===w.getMonth()&&t.getDate()===w.getDate()}))?"1":"0",day:n.map((function(t){return t.getDate().toString().padStart(2,"0")})).join(",")}})),D=h.map((function(t,e){return{index:e,day:t.getDate().toString().padStart(2,"0"),value:y(t),value2:m(t),isMonth:t.getFullYear()===i&&t.getMonth()+1===u,checked:!1}}));return{weeks:k,days:D}},findCurrentWeeks:function(t){return t.filter((function(t){return"1"===t.weekFlag}))},findWeekByDate:function(t,e){var n=new Date(e).setHours(0,0,0,0);return t.find((function(t){return t.value2.split(",").some((function(t){var e=t.split("-"),a=o()(e,3),r=a[0],s=a[1],i=a[2];return new Date(r,s-1,i).setHours(0,0,0,0)===n}))}))},selectChangeFun:function(){this.showData={code:200,data:null},this.candalerFun()},getMonths:function(){var t=(new Date).getFullYear();this.monthList=Array.from({length:12},(function(e,n){var a=n+1;return{name:"".concat(t,"-").concat(a,"月"),value:"".concat(t,"-").concat(String(a).padStart(2,"0"),"-01")}}))},candalerFun:function(){var t=this.generateMonthlyWeeks(this.monthValue);this.weeks=t.weeks,this.days=t.days},getWeeks:function(){this.showData.data=this.weeks},getDays:function(){this.showData.data=this.days},checkedFun:function(t){t.isMonth&&(t.checked=!t.checked)},getWeekNow:function(){var t=i()().format("YYYY-MM-DD"),e=this.generateMonthlyWeeks(t);this.showData.data=this.findCurrentWeeks(e.weeks)},getDayData:function(){this.monthValue="2025-06-01";var t=this.generateMonthlyWeeks(this.monthValue);this.showData.data=this.findWeekByDate(t.weeks,this.monthValue)}},mounted:function(){this.getMonths(),this.candalerFun()}},c=(0,n(93734).A)(u,a,[],!1,null,"65c85f19",null).exports},47752:function(t){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},67987:function(t,e,n){"use strict";t.exports=n.p+"assets/icon_calendar.635eb8ac.png"},70079:function(t){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=Array(e);n<e;n++)a[n]=t[n];return a},t.exports.__esModule=!0,t.exports.default=t.exports},81156:function(t){t.exports=function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var a,r,o,s,i=[],u=!0,c=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(a=o.call(n)).done)&&(i.push(a.value),i.length!==e);u=!0);}catch(t){c=!0,r=t}finally{try{if(!u&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return i}},t.exports.__esModule=!0,t.exports.default=t.exports},85715:function(t,e,n){var a=n(92987),r=n(81156),o=n(17122),s=n(47752);t.exports=function(t,e){return a(t)||r(t,e)||o(t,e)||s()},t.exports.__esModule=!0,t.exports.default=t.exports},92987:function(t){t.exports=function(t){if(Array.isArray(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports}}]);